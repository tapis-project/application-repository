{
  "id": "MTUQ",
  "owner": "jacksont",
  "version": "1.0",
  "description": "MTUQ Containerized",
  "jobType": "BATCH",
  "runtime": "SINGULARITY",
  "runtimeOptions": ["SINGULARITY_RUN"],
  "containerImage": "docker://ghcr.io/seisscoped/mtuq:ubuntu20.04",
  "strictFileInputs": false,
  "jobAttributes": {
    "description": "MTUQ Job Attributes",
    "execSystemId": "Frontera.exec",
    "dynamicExecSystem": false,
    "isMpi": true,
    "mpiCmd": "ibrun",
    "parameterSet": {
      "appArgs": [
        {
          "name": "Run python script",
          "inputMode": "FIXED",
          "description": "Running input file",
          "arg": "python3 entrypoint.py"
        }
      ],
      "containerArgs": [],
      "schedulerOptions": [],
      "envVariables": [
        {
          "key": "SYNGINE_CACHE",
          "value": "$SCRATCH/syngine_cache",
          "description": "There must be a folder in your $SCRATCH directory named 'syngine_cache'"
        }
      ],
      "archiveFilter": {
        "includes": [],
        "excludes": [],
        "includeLaunchFiles": false
      }
    },
    "fileInputs": [
      {
        "name": "Python Script",
        "inputMode": "REQUIRED",
        "targetPath": "entrypoint.py",
        "description": "Put in the url to the python script you are running. In the format: tapis://Frontera.exec/scratch1/<num>/<user>/<script>.py * DO NOT CHANGE THE TARGET PATH * ",
        "autoMountLocal": true
      },
      {
        "name": "Data",
        "inputMode": "OPTIONAL",
        "targetPath": "*",
        "description": "URL to a data folder, in the format: tapis://Frontera.exec/scratch1/<num>/<user>/<script>.py ",
        "autoMountLocal": true
      }
    ],
    "fileInputArrays": [],
    "memoryMB": 4000,
    "nodeCount": 4,
    "coresPerNode": 1,
    "maxMinutes": 25
  }
}
